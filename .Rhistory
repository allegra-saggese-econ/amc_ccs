# create a vector of PDF file names
# Set working directory
setwd("C:\Users\SAGGESE\Documents\GitHub\amc_ccs\data\applications_2022-23\2022-fall")
install.packages("pdftools", dependencies=TRUE)
# install.packages("pdftools")
library(pdftools)
# create a vector of PDF file names
# Set working directory
setwd("C:\Users\SAGGESE\Documents\GitHub\amc_ccs\data\applications_2022-23\2022-fall")
# create a vector of PDF file names
# Set working directory
setwd("\Users\SAGGESE\Documents\GitHub\amc_ccs\data\applications_2022-23\2022-fall")
# create a vector of PDF file names
# Set working directory
setwd("Users\SAGGESE\Documents\GitHub\amc_ccs\data\applications_2022-23\2022-fall")
# create a vector of PDF file names
# Set working directory
setwd("~\Users\SAGGESE\Documents\GitHub\amc_ccs\data\applications_2022-23\2022-fall")
# create a vector of PDF file names
# Set working directory
setwd("~/Users/SAGGESE/Documents/GitHub/amc_ccs/data/applications_2022-23/2022-fall")
cwd()
getwd()
# create a vector of PDF file names
# Set working directory
setwd("~data/applications_2022-23/2022-fall")
# create a vector of PDF file names
# Set working directory
setwd("~/data/applications_2022-23/2022-fall")
getwd()
setwd()
setwd(/data)
setwd("~/data")
setwd("~\data")
library(tidyr)
setwd("~/")
getwd()
setwd("C:\Users\SAGGESE\Documents\GitHub\amc_ccs\data\applications_2022-23\2022-fall")
setwd("C:\Users\SAGGESE\Documents\GitHub\amc_ccs\data\applications_2022_23\2022_fall")
setwd("C:\\Users\\SAGGESE\\Documents\\GitHub\\amc_ccs\\data\\applications_2022_23\\2022_fall")
files <- list.files(pattern = "pdf$")
applications_2022_fall<-pdftools::pdf_text(pdf = files[1])
files <- list.files(pattern = "pdf$")
applications_2022_fall<-pdftools::pdf_text(pdf = files[1])
applications_2022_fall
write(applications_2022_fall)
bob<-pdftools::pdf_text(pdf = files[1])
write(bob)
bob[1]
bob[2]
bob[3]
bob %>% readLines()
bob %>% read_lines()
library(lubridate)
library(kableExtra)
bob %>% readline()
bob2
bob2<-bob %>% readline()
bob[9]
bob[7]
bob[5]
bob[6]
# write table 2023-2028
bob[5]
keyword <- "Year"
txt_key <- grep(keyword, bob, value=TRUE)
txt_key
lines <- unlist(strsplit(txt_key, "\n"))
df <- data.frame(Text=lines)
View(df)
df[,46]
df[1,46]
df[:,46]
df[,46]
df[46]
df[ ,46]
df[ 1,47]
df[ 1,48]
df[58]
df <- data.frame(Text=lines) %>%
slice(46:n())
library(dplyr)
df <- data.frame(Text=lines) %>%
slice(46:n())
View(df)
df <- data.frame(Text=lines) %>%
slice(46:n()) %>%
na.omit()
View(df)
df <- data.frame(Text=lines) %>%
slice(46:n()) %>%
na.omit(df)
df <- data.frame(Text=lines) %>% na.omit()
View(df)
df <- data.frame(Text=lines) %>% filter(grepl("[[:alpha:]]", Text))
View(df)
df <- data.frame(Text=lines) %>% filter(trimws(Text) != "")
View(df)
df <- data.frame(Text=lines) %>%
filter(trimws(Text) != "") %>%
slice(23:n())
df <- data.frame(Text=lines) %>%
filter(trimws(Text) != "") %>%
slice(24:n())
df <- data.frame(Text=lines) %>%
filter(trimws(Text) != "") %>%
slice(24:n()) %>%
separate(Text, into = c("Year", "Estimated Gross Capacity"), sep = " ", remove = FALSE)
df$Text <- gsub(" ", "", df$Text)
df$Text <- gsub(" ", "", df$Text) %>%
separate(MixedColumn, into = c("Year", "Estimated Gross Capacity"), sep = "(?<=\\D)(?=\\d)", convert = TRUE)
df <- df %>%
separate(Text, into = c("Year", "Estimated Gross Capacity"), sep = "(?<=\\D)(?=\\d)", convert = TRUE)
txt_key <- grep(keyword, bob, value=TRUE)
lines <- unlist(strsplit(txt_key, "\n"))
df <- data.frame(Text=lines) %>%
filter(trimws(Text) != "") %>%
slice(24:n()) %>%
separate(Text, into = c("Year", "Estimated Gross Capacity"), sep = " ", remove = FALSE)
df$Text <- gsub(" ", "", df$Text)
View(df)
df$Text <- trimws(df$Text)
df <- data.frame(Text=lines) %>%
filter(trimws(Text) != "") %>%
slice(24:n()) %>%
separate(Text, into = c("Year", "Estimated Gross Capacity"), sep = " ", remove = FALSE)
df <- df %>%
separate(Text, into = c("Year", "Estimated Gross Capacity"), sep = "(?<=\\D)(?=\\d)", convert = TRUE)
df <- data.frame(Text=lines) %>%
filter(trimws(Text) != "") %>%
slice(24:n()) %>%
separate(Text, into = c("Year", "Estimated Gross Capacity"), sep = " ", remove = FALSE)
df$
df <- data.frame(Text=lines) %>%
filter(trimws(Text) != "") %>%
slice(24:n()) %>%
separate(Text, into = c("Year", "Estimated Gross Capacity"), sep = " ", remove = FALSE)
df <- data.frame(Text=lines) %>%
filter(trimws(Text) != "") %>%
slice(24:n())
lines <- unlist(strsplit(txt_key, "\n"))
df <- data.frame(Text=lines) %>%
filter(trimws(Text) != "") %>%
slice(24:n()) %>%
separate(Text, into = c("Year", "Estimated Gross Capacity"), sep = "              ", remove = FALSE)
lines <- unlist(strsplit(txt_key, "\n"))
df <- data.frame(Text=lines) %>%
filter(trimws(Text) != "") %>%
slice(24:n()) %>%
separate(Text, into = c("Year", "Estimated Gross Capacity"), sep = "              ", remove = FALSE) %>%
drop(Text)
df <- data.frame(Text=lines) %>%
filter(trimws(Text) != "") %>%
slice(24:n()) %>%
separate(Text, into = c("Year", "Estimated Gross Capacity"), sep = "              ", remove = FALSE) %>%
drop(df$Text)
sequestration potential per year
lines <- unlist(strsplit(txt_key, "\n"))
df <- data.frame(Text=lines) %>%
filter(trimws(Text) != "") %>%
slice(24:n()) %>%
separate(Text, into = c("Year", "Estimated Gross Capacity"), sep = "              ", remove = FALSE) %>%
subset(-c=("Text"))
View(df)
lines <- unlist(strsplit(txt_key, "\n"))
df <- data.frame(Text=lines) %>%
filter(trimws(Text) != "") %>%
slice(24:n()) %>%
separate(Text, into = c("Year", "Estimated Gross Capacity"), sep = "              ", remove = FALSE) %>%
subset(select = -Text)
d0finalf <- df[-c(1, nrow(df)), ]
View(d0finalf)
df <- data.frame(Text=lines) %>%
filter(trimws(Text) != "") %>%
slice(24:n()) %>%
separate(Text, into = c("Year", "Estimated Gross Capacity (tonnes)"), sep = "              ", remove = FALSE) %>%
subset(select = -Text)
df_1 <- df[-c(1, nrow(df)), ]
View(df_1)
# get first table -- sequestration potential per year
txt_key <- grep(keyword, bob, value=TRUE)
txt_key
bob[6]
bottom_df <- bob[6] %>% unlist(strsplit("\n"))
bottom_df <- bob[6] %>% unlist(strsplit( ,"\n"))
# write table for 2029, 2030
p2 <- bob[6]
bottom_df <- unlist(strsplit(p2,"\n"))
bottom_df
class(bottom_df)
bdf_2 <- paste(substr(bottom_df, 4, 4), substr(bottom_df, 6, 6), sep = "")
bdf_2
bottom_df
bottom_df <- unlist(strsplit(p2,"\n")) %>% data.frame(Text=lines) %>%
filter(trimws(Text) !="")
bottom_df <- unlist(strsplit(p2,"\n")) %>% data.frame(Text) %>%
filter(trimws(Text) !="")
bottom_df <- unlist(strsplit(p2,"\n")) %>% data.frame(Text=bottom_df) %>%
filter(trimws(Text) !=)
bottom_df <- unlist(strsplit(p2,"\n")) %>% data.frame(Text=bottom_df) %>%
filter(trimws(Text) !=)
bottom_df <- unlist(strsplit(p2,"\n")) %>% data.frame(Text=bottom_df) %>%
filter(trimws(Text) !="")
View(bottom_df)
bottom_df <- unlist(strsplit(p2,"\n")) %>% data.frame(Text=bottom_df) %>%
filter(trimws(Text) !="") %>%
slice(n():4)
31-5
bottom_df <- unlist(strsplit(p2,"\n")) %>% data.frame(Text=bottom_df) %>%
filter(trimws(Text) !="") %>%
head(-26)
bottom_df <- unlist(strsplit(p2,"\n")) %>% data.frame(Text=p2) %>%
filter(trimws(Text) !="") %>%
head(-26)
